<!DOCTYPE html>
<html>
  <head>
    <title>this</title>
  </head>
  <body>
    <h1>this</h1>
    <script type='text/javascript'>

      console.log('1');
      console.log(this);

      var color = 'green';

      function sayColor(){
        console.log(this);
        console.log(this.color);
      };

      console.log('2');
      sayColor();

      var apple = {color: 'red'};

      console.log('3');
      sayColor.call(apple);

      var banana = { color: 'yellow' };
      banana.sayColor = sayColor;

      console.log('4');
      console.log(banana);

      console.log('5');
      banana.sayColor();

      var puppy = {
        name: 'fluffy',
        bark: function(){
          console.log(this)
        },
        sayName: function(){
          console.log(this.name)
        },
      };

      console.log('6');
      console.log(puppy);

      console.log('7')
      puppy.bark();

      console.log('8');
      puppy.sayName();

      var kitten = {
        name: 'mittens',
        friend: puppy,
        introduceFriend: function() {
          console.log(this);
          this.friend.bark();
          console.log(this);
        }
      }

      console.log('9');
      console.log(kitten);

      console.log('10');
      kitten.introduceFriend();

    </script>
  </body>
</html>